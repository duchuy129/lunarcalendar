<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:LunarCalendar.MobileApp.ViewModels"
             x:Class="LunarCalendar.MobileApp.Views.HolidayDetailPage"
             x:DataType="viewmodels:HolidayDetailViewModel"
             Title="{Binding Title}"
             Background="{DynamicResource BackgroundGradient}">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="24">

            <!-- Holiday Icon/Color Indicator - Elegant Gradient Design -->
            <Border HeightRequest="160"
                    WidthRequest="160"
                    StrokeThickness="0"
                    HorizontalOptions="Center">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                        <GradientStop Color="{Binding HolidayColorHex}" Offset="0.0"/>
                        <GradientStop Color="{Binding HolidayColorHex}" Offset="1.0"/>
                    </LinearGradientBrush>
                </Border.Background>
                <Border.Shadow>
                    <Shadow Brush="{Binding HolidayColorHex}"
                            Opacity="0.3"
                            Radius="28"
                            Offset="0,10"/>
                </Border.Shadow>
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="80"/>
                </Border.StrokeShape>

                <VerticalStackLayout VerticalOptions="Center"
                                    HorizontalOptions="Center"
                                    Spacing="2">
                    <Label Text="{Binding GregorianDateMonth}"
                          FontSize="16"
                          TextColor="White"
                          Opacity="0.95"
                          FontAttributes="Bold"
                          HorizontalOptions="Center"
                          Margin="0,0,0,4"/>
                    <Label Text="{Binding GregorianDateDay}"
                          FontSize="52"
                          TextColor="White"
                          FontAttributes="Bold"
                          HorizontalOptions="Center"
                          Margin="0,-4,0,-4"/>
                    <Label Text="{Binding GregorianDateYear}"
                          FontSize="15"
                          TextColor="White"
                          Opacity="0.90"
                          HorizontalOptions="Center"
                          Margin="0,4,0,0"/>
                </VerticalStackLayout>
            </Border>

            <!-- Holiday Name -->
            <Label Text="{Binding Title}"
                   FontSize="28"
                   FontAttributes="Bold"
                   TextColor="{DynamicResource Gray900}"
                   HorizontalOptions="Center"
                   HorizontalTextAlignment="Center"/>

            <!-- Holiday Type Badge - Elegant Gradient Design -->
            <Border Padding="18,9"
                    StrokeThickness="0"
                    HorizontalOptions="Center">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                        <GradientStop Color="{Binding HolidayColorHex}" Offset="0.0"/>
                        <GradientStop Color="{Binding HolidayColorHex}" Offset="1.0"/>
                    </LinearGradientBrush>
                </Border.Background>
                <Border.Shadow>
                    <Shadow Brush="{Binding HolidayColorHex}"
                            Opacity="0.2"
                            Radius="10"
                            Offset="0,3"/>
                </Border.Shadow>
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="20"/>
                </Border.StrokeShape>
                <Label Text="{Binding HolidayTypeText}"
                       TextColor="White"
                       FontSize="13"
                       FontAttributes="Bold"/>
            </Border>

            <!-- Date Information Card -->
            <Border Padding="20"
                    Background="{DynamicResource CardGradient}"
                    StrokeThickness="0">
                <Border.Shadow>
                    <Shadow Brush="Black"
                            Opacity="0.1"
                            Radius="12"
                            Offset="0,4"/>
                </Border.Shadow>
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="16"/>
                </Border.StrokeShape>

                <VerticalStackLayout Spacing="16">
                    <!-- Gregorian Date -->
                    <VerticalStackLayout Spacing="4">
                        <Label Text="Gregorian Date"
                               FontSize="12"
                               TextColor="{DynamicResource Gray600}"
                               FontAttributes="Bold"/>
                        <Label Text="{Binding GregorianDateFormatted}"
                               FontSize="18"
                               TextColor="{DynamicResource Gray900}"/>
                    </VerticalStackLayout>

                    <!-- Separator -->
                    <BoxView HeightRequest="1"
                             BackgroundColor="{DynamicResource Gray200}"/>

                    <!-- Lunar Date -->
                    <VerticalStackLayout Spacing="4">
                        <Label Text="Lunar Date"
                               FontSize="12"
                               TextColor="{DynamicResource Gray600}"
                               FontAttributes="Bold"/>
                        <Label Text="{Binding LunarDateWithAnimalSign}"
                               FontSize="18"
                               TextColor="{DynamicResource LunarRed}"
                               FontAttributes="Bold"/>
                    </VerticalStackLayout>

                    <!-- Separator (only show if public holiday) -->
                    <BoxView HeightRequest="1"
                             BackgroundColor="{DynamicResource Gray200}"
                             IsVisible="{Binding IsPublicHoliday}"/>

                    <!-- Public Holiday Indicator -->
                    <HorizontalStackLayout Spacing="8"
                                          IsVisible="{Binding IsPublicHoliday}">
                        <Label Text="ðŸ›ï¸"
                               FontSize="20"/>
                        <Label Text="Public Holiday"
                               FontSize="14"
                               TextColor="#4B5563"
                               VerticalOptions="Center"/>
                    </HorizontalStackLayout>
                </VerticalStackLayout>
            </Border>

            <!-- Description Card -->
            <Border Padding="20"
                    BackgroundColor="White"
                    Stroke="{DynamicResource Gray200}"
                    StrokeThickness="1"
                    IsVisible="{Binding HasDescription}">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="12"/>
                </Border.StrokeShape>

                <VerticalStackLayout Spacing="8">
                    <Label Text="About This Holiday"
                           FontSize="16"
                           FontAttributes="Bold"
                           TextColor="{DynamicResource Gray900}"/>
                    <Label Text="{Binding HolidayDescription}"
                           FontSize="15"
                           TextColor="#4B5563"
                           LineBreakMode="WordWrap"/>
                </VerticalStackLayout>
            </Border>

            <!-- Culture Info -->
            <Border Padding="16"
                    BackgroundColor="{Binding HolidayColorHex}"
                    StrokeThickness="0"
                    Opacity="0.15">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="12"/>
                </Border.StrokeShape>
                <HorizontalStackLayout Spacing="8"
                                      HorizontalOptions="Center">
                    <Label Text="ðŸŒ"
                           FontSize="18"/>
                    <Label Text="{Binding HolidayCulture}"
                           FontSize="14"
                           FontAttributes="Bold"
                           TextColor="{DynamicResource Gray800}"
                           VerticalOptions="Center"/>
                    <Label Text="Culture"
                           FontSize="14"
                           TextColor="{DynamicResource Gray700}"
                           VerticalOptions="Center"/>
                </HorizontalStackLayout>
            </Border>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
