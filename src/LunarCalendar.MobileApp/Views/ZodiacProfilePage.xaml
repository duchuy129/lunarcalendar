<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:LunarCalendar.MobileApp.ViewModels"
             xmlns:ext="clr-namespace:LunarCalendar.MobileApp.Extensions"
             x:Class="LunarCalendar.MobileApp.Views.ZodiacProfilePage"
             Title="{Binding Title}"
             Background="{DynamicResource BackgroundGradient}">

    <Grid>
        <!-- Cultural background image -->
        <Image Source="lunar_bg.png"
               Aspect="AspectFill"
               Opacity="0.20"
               HorizontalOptions="Fill"
               VerticalOptions="Fill"/>

        <ScrollView>
            <VerticalStackLayout Padding="20" Spacing="20">

                <!-- Page Header -->
                <VerticalStackLayout Spacing="4" Padding="0,8,0,4">
                    <Label Text="ðŸ”¯"
                           FontSize="48"
                           HorizontalOptions="Center"
                           SemanticProperties.Description="{ext:Translate ZodiacTab}"/>
                    <Label Text="{ext:Translate ZodiacProfilePageTitle}"
                           FontSize="24"
                           FontAttributes="Bold"
                           TextColor="{DynamicResource Primary}"
                           HorizontalOptions="Center"/>
                    <Label Text="{ext:Translate MyZodiacProfileDesc}"
                           FontSize="13"
                           TextColor="{DynamicResource Gray600}"
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center"/>
                </VerticalStackLayout>

                <!-- My Zodiac Profile Card -->
                <Border Padding="0"
                        Background="{DynamicResource SubtleCardGradient}"
                        StrokeThickness="0">
                    <Border.Shadow>
                        <Shadow Brush="Black"
                                Opacity="0.06"
                                Radius="10"
                                Offset="0,4"/>
                    </Border.Shadow>
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="16"/>
                    </Border.StrokeShape>
                    <VerticalStackLayout Spacing="0">

                        <!-- Current Zodiac Display -->
                        <Grid Padding="16,16,16,12"
                              ColumnDefinitions="Auto,*"
                              SemanticProperties.Description="{ext:Translate YourZodiacSign}">
                            <Label Grid.Column="0"
                                   Text="ðŸ¾"
                                   FontSize="32"
                                   VerticalOptions="Center"
                                   Margin="0,0,14,0"/>
                            <VerticalStackLayout Grid.Column="1" Spacing="2" VerticalOptions="Center">
                                <Label Text="{ext:Translate YourZodiacSign}"
                                       FontSize="12"
                                       TextColor="{DynamicResource Gray600}"
                                       FontAttributes="Bold"/>
                                <Label Text="{Binding MyZodiacDisplay}"
                                       FontSize="18"
                                       FontAttributes="Bold"
                                       TextColor="{DynamicResource Primary}"
                                       SemanticProperties.Description="{Binding MyZodiacDisplay}"/>
                            </VerticalStackLayout>
                        </Grid>

                        <BoxView HeightRequest="1"
                                 BackgroundColor="{DynamicResource Gray200}"
                                 Margin="16,0"/>

                        <!-- Birth Year Entry -->
                        <Grid Padding="16,14"
                              ColumnDefinitions="*,Auto"
                              ColumnSpacing="12">
                            <VerticalStackLayout Grid.Column="0" Spacing="4">
                                <Label Text="{ext:Translate BirthYear}"
                                       FontSize="16"
                                       TextColor="{DynamicResource Gray900}"/>
                                <Entry Text="{Binding BirthYearText}"
                                       Placeholder="{ext:Translate BirthYearDesc}"
                                       Keyboard="Numeric"
                                       MaxLength="4"
                                       FontSize="15"
                                       TextColor="{DynamicResource Gray900}"
                                       PlaceholderColor="{DynamicResource Gray400}"
                                       ReturnType="Done"
                                       SemanticProperties.Description="{ext:Translate BirthYear}"
                                       SemanticProperties.Hint="{ext:Translate BirthYearDesc}"/>
                            </VerticalStackLayout>
                            <Button Grid.Column="1"
                                    Text="âœ“"
                                    Command="{Binding SaveZodiacProfileCommand}"
                                    BackgroundColor="{DynamicResource Primary}"
                                    TextColor="White"
                                    CornerRadius="10"
                                    WidthRequest="48"
                                    HeightRequest="48"
                                    FontSize="20"
                                    VerticalOptions="End"
                                    SemanticProperties.Description="{ext:Translate BirthYear}"
                                    SemanticProperties.Hint="Save your birth year"/>
                        </Grid>

                    </VerticalStackLayout>
                </Border>

                <!-- Browse Animals Card -->
                <Border Padding="0"
                        Background="{DynamicResource SubtleCardGradient}"
                        StrokeThickness="0">
                    <Border.Shadow>
                        <Shadow Brush="Black"
                                Opacity="0.06"
                                Radius="10"
                                Offset="0,4"/>
                    </Border.Shadow>
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="16"/>
                    </Border.StrokeShape>
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding NavigateToZodiacInfoCommand}"/>
                    </Border.GestureRecognizers>
                    <Grid Padding="16,18"
                          ColumnDefinitions="Auto,*,Auto"
                          SemanticProperties.Description="{ext:Translate BrowseAnimals}"
                          SemanticProperties.Hint="{ext:Translate BrowseAnimalsDesc}">
                        <Label Grid.Column="0"
                               Text="ðŸ‰"
                               FontSize="32"
                               VerticalOptions="Center"
                               Margin="0,0,14,0"/>
                        <VerticalStackLayout Grid.Column="1" Spacing="4" VerticalOptions="Center">
                            <Label Text="{ext:Translate BrowseAnimals}"
                                   FontSize="16"
                                   FontAttributes="Bold"
                                   TextColor="{DynamicResource Gray900}"/>
                            <Label Text="{ext:Translate BrowseAnimalsDesc}"
                                   FontSize="12"
                                   TextColor="{DynamicResource Gray600}"/>
                        </VerticalStackLayout>
                        <Label Grid.Column="2"
                               Text="â€º"
                               FontSize="24"
                               TextColor="{DynamicResource Primary}"
                               VerticalOptions="Center"/>
                    </Grid>
                </Border>

                <!-- Check Compatibility Card -->
                <Border Padding="0"
                        Background="{DynamicResource SubtleCardGradient}"
                        StrokeThickness="0"
                        Margin="0,0,0,16">
                    <Border.Shadow>
                        <Shadow Brush="Black"
                                Opacity="0.06"
                                Radius="10"
                                Offset="0,4"/>
                    </Border.Shadow>
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="16"/>
                    </Border.StrokeShape>
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding NavigateToCompatibilityCommand}"/>
                    </Border.GestureRecognizers>
                    <Grid Padding="16,18"
                          ColumnDefinitions="Auto,*,Auto"
                          SemanticProperties.Description="{ext:Translate CheckCompatibility}"
                          SemanticProperties.Hint="{ext:Translate CheckCompatibilityDesc}">
                        <Label Grid.Column="0"
                               Text="ðŸ’ž"
                               FontSize="32"
                               VerticalOptions="Center"
                               Margin="0,0,14,0"/>
                        <VerticalStackLayout Grid.Column="1" Spacing="4" VerticalOptions="Center">
                            <Label Text="{ext:Translate CheckCompatibility}"
                                   FontSize="16"
                                   FontAttributes="Bold"
                                   TextColor="{DynamicResource Gray900}"/>
                            <Label Text="{ext:Translate CheckCompatibilityDesc}"
                                   FontSize="12"
                                   TextColor="{DynamicResource Gray600}"/>
                        </VerticalStackLayout>
                        <Label Grid.Column="2"
                               Text="â€º"
                               FontSize="24"
                               TextColor="{DynamicResource Primary}"
                               VerticalOptions="Center"/>
                    </Grid>
                </Border>

            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>
